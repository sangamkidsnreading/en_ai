

<div th:fragment="admin-content">
    <!-- 헤더 -->
    <div class="admin-header">
        <h1>관리자 대시보드</h1>
        <p>사용자 및 콘텐츠를 관리하세요</p>
    </div>

    <!-- 통계 카드 섹션 -->
    <div class="stats-section">
        <div class="stat-card">
            <div class="stat-content">
                <div class="stat-info">
                    <div class="stat-label">총 사용자</div>
                    <div class="stat-number" id="total-users">2</div>
                </div>
                <div class="stat-icon users">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="m22 21-3-3m2-5a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-content">
                <div class="stat-info">
                    <div class="stat-label">총 단어</div>
                    <div class="stat-number" id="total-words">20</div>
                </div>
                <div class="stat-icon words">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 19.5C4 18.1193 5.11929 17 6.5 17H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-content">
                <div class="stat-info">
                    <div class="stat-label">총 문장</div>
                    <div class="stat-number" id="total-sentences">10</div>
                </div>
                <div class="stat-icon sentences">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-content">
                <div class="stat-info">
                    <div class="stat-label">활성 사용자</div>
                    <div class="stat-number" id="active-users">1</div>
                </div>
                <div class="stat-icon active">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- 검색 바 -->
    <div class="search-section">
        <div class="search-box">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2"/>
            </svg>
            <input type="text" placeholder="검색..." class="search-input" id="admin-search">
        </div>
    </div>

    <!-- 관리 탭 섹션 -->
    <div class="management-section">
        <div class="tab-header">
            <div class="tab-item active" data-tab="users">사용자 관리</div>
            <div class="tab-item" data-tab="words">단어 관리</div>
            <div class="tab-item" data-tab="sentences">문장 관리</div>
            <div class="tab-item" data-tab="audio">음원 관리</div>
            <div class="tab-item" data-tab="settings">학습 설정</div>
            <div class="tab-item" data-tab="registration">회원가입 설정</div>
        </div>

        <!-- 사용자 관리 탭 -->
        <div class="tab-content active" id="users-tab">
            <div class="content-header">
                <h3>사용자 관리</h3>
                <button class="add-btn users-btn" id="add-user-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 5v14m7-7H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    새 사용자 추가
                </button>
            </div>

            <!-- 역할/상태 필터 탭 -->
            <div class="user-filter-tabs" style="display: flex; gap: 16px; margin-bottom: 16px; align-items: center; flex-wrap: wrap;">
                <div class="role-tabs" style="display: flex; gap: 8px;">
                    <button class="role-tab active" data-role="ALL">전체</button>
                    <button class="role-tab" data-role="ADMIN">관리자</button>
                    <button class="role-tab" data-role="TEACHER">교사</button>
                    <button class="role-tab" data-role="STUDENT">학생</button>
                </div>
                <div class="active-tabs" style="display: flex; gap: 8px; margin-left: 24px;">
                    <button class="active-tab active" data-active="ALL">전체</button>
                    <button class="active-tab" data-active="true">활성</button>
                    <button class="active-tab" data-active="false">비활성</button>
                </div>
            </div>

            <div class="user-list" id="user-list">
                <!-- 사용자 목록이 동적으로 로드됩니다 -->
            </div>
        </div>

        <!-- 단어 관리 탭 (음원 업로드 기능 추가) -->
        <div class="tab-content" id="words-tab">
            <div class="content-header">
                <h3>단어 관리</h3>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <label for="word-level-select">Level</label>
                    <!-- Day 선택 드롭다운 추가 --> 
                    <select id="word-level-select">
                        <option value="all">전체</option>
                        <option value="1">Level 1</option>
                        <option value="2">Level 2</option>
                        <option value="3">Level 3</option>
                        <option value="4">Level 4</option>
                        <option value="5">Level 5</option>
                        <option value="6">Level 6</option>
                        <option value="7">Level 7</option>
                        <option value="8">Level 8</option>
                        <option value="9">Level 9</option>
                        <option value="10">Level 10</option>
                    </select>
                    <label for="word-day-select">Day</label>
                    <select id="word-day-select">
                        <option value="all">전체</option>
                        <!-- Day 1~50 -->
                        <!--# th:each="d : ${#numbers.sequence(1,50)}"-->
                        <option th:each="d : ${#numbers.sequence(1,50)}" th:value="${d}" th:text="${'Day ' + d}">Day 1</option>
                        <!--/-->
                    </select>
                    <button class="add-btn words-btn" id="add-word-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 5v14m7-7H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        단어 추가
                    </button>
                    <button class="add-btn" id="upload-words-btn">
                        📤 엑셀 업로드
                    </button>
                    <span style="font-size: 13px; color: #888;">
                        (엑셀 컬럼: <b>word, meaning, audio_file, level, day</b> 순) - audio_file은 비워두면 자동 생성됩니다
                    </span>
                    <button class="add-btn" id="bulk-audio-upload-words-btn">
                        🎵 음원 일괄 업로드
                    </button>
                    <button class="delete-btn" id="delete-selected-words-btn" style="display: none;">
                        🗑️ 선택 삭제
                    </button>
                    <input type="file" id="word-file" name="excelFile" accept=".xlsx,.xls" style="display: none">
                    <input type="file" id="word-audio-bulk-file" accept=".zip" style="display: none">
                </div>
            </div>
            <div class="word-list" id="word-list">
                <!-- 단어 목록이 동적으로 로드됩니다 -->
                <div class="dragndrop-hint" style="text-align:center;color:#888;font-size:14px;margin:8px 0;">
                    ⬍ 단어를 드래그하여 순서를 변경할 수 있습니다
                </div>
            </div>
        </div>

        <!-- 문장 관리 탭 (음원 업로드 기능 추가) -->
        <div class="tab-content" id="sentences-tab">
            <div class="content-header">
                <h3>문장 관리</h3>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <label for="sentence-level-select">Level</label>
                    <select id="sentence-level-select">
                        <option value="all">전체</option>
                        <option value="1">Level 1</option>
                        <option value="2">Level 2</option>
                        <option value="3">Level 3</option>
                        <option value="4">Level 4</option>
                        <option value="5">Level 5</option>
                        <option value="6">Level 6</option>
                        <option value="7">Level 7</option>
                        <option value="8">Level 8</option>
                        <option value="9">Level 9</option>
                        <option value="10">Level 10</option>
                    </select>
                    <!-- Day 선택 드롭다운 추가 -->
                    <label for="sentence-day-select">Day</label>
                    <select id="sentence-day-select">
                        <option value="all">전체</option>
                        <!-- Day 1~50 -->
                        <!--# th:each="d : ${#numbers.sequence(1,50)}"-->
                        <option th:each="d : ${#numbers.sequence(1,50)}" th:value="${d}" th:text="${'Day ' + d}">Day 1</option>
                        <!--/-->
                    </select>          
                    <button class="add-btn sentences-btn" id="add-sentence-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 5v14m7-7H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        문장 추가
                    </button>
                    <button class="add-btn" id="upload-sentences-btn">
                        📤 엑셀 업로드
                    </button>
                    <span style="font-size: 13px; color: #888;">
                        (엑셀 컬럼: <b>entence   meaning   audio_file   level   day</b> 순) - audio_file은 비워두면 자동 생성됩니다
                    </span>
                    <button class="add-btn" id="bulk-audio-upload-sentences-btn">
                        🎵 음원 일괄 업로드
                    </button>
                    <button class="delete-btn" id="delete-selected-sentences-btn" style="display: none;">
                        🗑️ 선택 삭제
                    </button>
                    <input type="file" id="sentence-file" accept=".xlsx,.xls" style="display: none">
                    <input type="file" id="sentence-audio-bulk-file" accept=".zip" style="display: none">
                </div>
            </div>
            <div class="sentence-list" id="sentence-list">
                <!-- 문장 목록이 동적으로 로드됩니다 -->
                <div class="dragndrop-hint" style="text-align:center;color:#888;font-size:14px;margin:8px 0;">
                    ⬍ 문장을 드래그하여 순서를 변경할 수 있습니다
                </div>
            </div>
        </div>

        <!-- 음원 관리 탭 (새로 추가) -->
        <div class="tab-content" id="audio-tab">
            <div class="content-header">
                <h3>음원 관리</h3>
                <div>
                    <button class="add-btn" id="audio-stats-btn">
                        📊 음원 통계
                    </button>
                    <button class="add-btn" id="missing-audio-btn">
                        🔍 누락된 음원 찾기
                    </button>
                    <button class="add-btn" id="normalize-audio-filenames-btn">
                        🔧 파일명 정규화
                    </button>
                </div>
            </div>

            <div class="audio-management-section">
                <!-- 필터 섹션 -->
                <div class="audio-filter-section">
                    <div class="filter-group">
                        <label>타입 필터:</label>
                        <select id="audio-type-filter">
                            <option value="all">전체</option>
                            <option value="words">단어</option>
                            <option value="sentences">문장</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>상태 필터:</label>
                        <select id="audio-status-filter">
                            <option value="all">전체</option>
                            <option value="has-audio">음원 있음</option>
                            <option value="no-audio">음원 없음</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>레벨 필터:</label>
                        <select id="audio-level-filter">
                            <option value="all">전체 레벨</option>
                            <option value="1">Level 1</option>
                            <option value="2">Level 2</option>
                            <option value="3">Level 3</option>
                            <option value="4">Level 4</option>
                            <option value="5">Level 5</option>
                        </select>
                    </div>
                    <button class="apply-filter-btn" id="apply-audio-filter">필터 적용</button>
                </div>

                <!-- 음원 목록 -->
                <div class="audio-list" id="audio-list">
                    <!-- 음원 목록이 동적으로 로드됩니다 -->
                </div>
            </div>
        </div>

        <!-- 학습 설정 탭 -->
        <div class="tab-content" id="settings-tab">
            <div class="content-header">
                <h3>학습 설정</h3>
                <div>
                    <button class="add-btn" onclick="window.adminDashboard.resetSettings()">
                        🔄 기본값 복원
                    </button>
                    <button class="add-btn" onclick="window.adminDashboard.exportSettings()">
                        📤 설정 내보내기
                    </button>
                    <button class="add-btn" onclick="window.adminDashboard.importSettings()">
                        📥 설정 가져오기
                    </button>
                </div>
            </div>

            <div class="settings-grid">
                <div class="settings-card">
                    <h4>음성 설정</h4>

                    <div class="setting-item">
                        <label>기본 음성 속도</label>
                        <select class="setting-select" id="voice-speed">
                            <option value="0.5">0.5x (매우 느리게)</option>
                            <option value="0.8">0.8x (권장)</option>
                            <option value="1.0">1.0x (보통)</option>
                            <option value="1.2">1.2x (빠르게)</option>
                            <option value="1.5">1.5x (매우 빠르게)</option>
                            <option value="2.0">2.0x (최고속)</option>
                        </select>
                        <small>음성 재생 속도를 설정합니다.</small>
                    </div>

                    <div class="setting-item">
                        <label>기본 반복 횟수</label>
                        <select class="setting-select" id="repeat-count">
                            <option value="1">1회</option>
                            <option value="2">2회</option>
                            <option value="3">3회 (권장)</option>
                            <option value="5">5회</option>
                            <option value="10">10회</option>
                        </select>
                        <small>단어/문장을 몇 번 반복할지 설정합니다.</small>
                    </div>
                </div>

                <div class="settings-card">
                    <h4>보상 설정</h4>

                    <div class="setting-item">
                        <label>단어 학습 코인</label>
                        <input type="number" value="1" min="0" max="100" class="setting-input" id="word-coins">
                        <small>단어를 학습할 때마다 획득하는 코인 수</small>
                    </div>

                    <div class="setting-item">
                        <label>문장 학습 코인</label>
                        <input type="number" value="3" min="0" max="100" class="setting-input" id="sentence-coins">
                        <small>문장을 학습할 때마다 획득하는 코인 수</small>
                    </div>

                    <div class="setting-item">
                        <label>연속 학습 보너스</label>
                        <input type="number" value="5" min="0" max="1000" class="setting-input" id="streak-bonus">
                        <small>7일 연속 학습 시 추가로 획득하는 코인</small>
                    </div>
                </div>

                <div class="settings-card">
                    <h4>레벨별 단어 설정</h4>
                    <!-- 필드 안내 문구 추가 -->
                    <div style="font-size: 13px; color: #666; margin-bottom: 8px;">
                        <b>단어</b>: 해당 레벨에서 학습할 단어 개수 &nbsp; | &nbsp;
                        <b>문장</b>: 해당 레벨에서 학습할 문장 개수
                    </div>
                    <div id="level-settings-list"></div>
                    <div id="level-settings-debug" style="color: #1976d2; margin-top: 10px;"></div>
                    <button onclick="saveLevelSettings()">저장</button>
                </div>

                <div class="settings-card">
                    <h4>레벨 설정</h4>

                    <div class="setting-item">
                        <label>레벨 업 필요 코인</label>
                        <input type="number" value="100" min="1" max="10000" class="setting-input" id="levelup-coins">
                        <small>다음 레벨로 올라가기 위해 필요한 코인 수</small>
                    </div>

                    <div class="setting-item">
                        <label>최대 레벨</label>
                        <input type="number" value="10" min="1" max="100" class="setting-input" id="max-level">
                        <small>학습자가 도달할 수 있는 최고 레벨</small>
                    </div>
                </div>

                <div class="settings-card">
                    <h4>일일 목표</h4>

                    <div class="setting-item">
                        <label>일일 단어 목표</label>
                        <input type="number" value="10" min="1" max="1000" class="setting-input" id="daily-words">
                        <small>하루에 학습해야 할 단어 개수</small>
                    </div>

                    <div class="setting-item">
                        <label>일일 문장 목표</label>
                        <input type="number" value="5" min="1" max="1000" class="setting-input" id="daily-sentences">
                        <small>하루에 학습해야 할 문장 개수</small>
                    </div>
                </div>
            </div>

            <div class="settings-actions">
                <button class="save-btn" id="save-settings-btn">설정 저장</button>
            </div>
        </div>

        <!-- 회원가입 설정 탭 -->
        <div class="tab-content" id="registration-tab">
            <div class="content-header">
                <h3>회원가입 설정</h3>
                <div>
                    <button class="add-btn" id="add-group-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 5v14m7-7H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        분원 추가
                    </button>
                    <button class="add-btn" id="save-registration-settings-btn">
                        💾 설정 저장
                    </button>
                </div>
            </div>

            <div class="registration-settings-grid">
                <!-- 분원 관리 섹션 -->
                <div class="settings-card">
                    <h4>분원 관리</h4>
                    <div class="group-list" id="group-list">
                        <!-- 분원 목록이 동적으로 로드됩니다 -->
                    </div>
                </div>

                <!-- 동의 설정 섹션 -->
                <div class="settings-card">
                    <h4>회원가입 동의 설정</h4>
                    
                    <div class="agreement-settings">
                        <div class="agreement-setting-item">
                            <label class="agreement-label">
                                <input type="checkbox" id="terms-required" checked>
                                <span class="agreement-text">이용 약관 동의 (필수)</span>
                            </label>
                            <div class="agreement-content">
                                <textarea id="terms-content" placeholder="이용 약관 내용을 입력하세요..." rows="6"></textarea>
                            </div>
                        </div>

                        <div class="agreement-setting-item">
                            <label class="agreement-label">
                                <input type="checkbox" id="privacy-required" checked>
                                <span class="agreement-text">개인정보 수집 및 이용 동의 (필수)</span>
                            </label>
                            <div class="agreement-content">
                                <textarea id="privacy-content" placeholder="개인정보 수집 및 이용 동의 내용을 입력하세요..." rows="6"></textarea>
                            </div>
                        </div>

                        <div class="agreement-setting-item">
                            <label class="agreement-label">
                                <input type="checkbox" id="marketing-required">
                                <span class="agreement-text">마케팅 정보 수신 동의 (선택)</span>
                            </label>
                            <div class="agreement-content">
                                <textarea id="marketing-content" placeholder="마케팅 정보 수신 동의 내용을 입력하세요..." rows="6"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 모달들 -->
    <!-- 사용자 추가/수정 모달 -->
    <div id="user-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="user-modal-title">사용자 추가</h3>
                <span class="close" data-modal="user-modal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="user-id">

                <div class="form-group">
                    <label>사용자명 (선택사항)</label>
                    <input type="text" id="user-username" placeholder="비워두면 이메일이 사용자명으로 사용됩니다">
                    <small style="color: #666; font-size: 12px;">비워두면 이메일이 자동으로 사용자명으로 설정됩니다.</small>
                </div>

                <div class="form-group">
                    <label>이름 *</label>
                    <input type="text" id="user-name" required>
                </div>

                <div class="form-group">
                    <label>이메일 *</label>
                    <input type="email" id="user-email" required>
                </div>

                <div class="form-group">
                    <label>분원 선택 *</label>
                    <select id="user-groupName" required>
                        <option value="SANGAM">상암본원 키즈엔리딩</option>
                        <option value="YONGIN">용인지혜의 숲 키즈엔리딩</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>역할 선택 *</label>
                    <select id="user-role" required>
                        <option value="STUDENT">학생</option>
                        <option value="PARENT">학부모</option>
                        <option value="TEACHER">교사</option>
                        <option value="ADMIN">관리자</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>비밀번호 *</label>
                    <input type="password" id="user-password" required>
                    <small style="color: #666; font-size: 12px;">수정 시 비밀번호를 변경하려면 입력하세요.</small>
                </div>

                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="user-active" checked>
                        활성 상태
                    </label>
                    <small style="color: #666; font-size: 12px;">비활성화된 사용자는 로그인할 수 없습니다.</small>
                </div>
            </div>
            <div class="modal-footer">
                <button data-modal="user-modal" class="modal-cancel">취소</button>
                <button id="save-user-btn">저장</button>
            </div>
        </div>
    </div>

    <!-- 단어 추가/수정 모달 (음원 업로드 기능 추가) -->
    <div id="word-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="word-modal-title">단어 추가</h3>
                <span class="close" data-modal="word-modal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="word-id">
                <div class="form-group">
                    <label>영어 단어</label>
                    <input type="text" id="word-english" required="">
                </div>
                <div class="form-group">
                    <label>한국어 뜻</label>
                    <input type="text" id="word-korean" required="">
                </div>
                <div class="form-group">
                    <label>레벨</label>
                    <select id="word-level">
                        <option value="1">Level 1</option>
                        <option value="2">Level 2</option>
                        <option value="3">Level 3</option>
                        <option value="4">Level 4</option>
                        <option value="5">Level 5</option>
                    </select>
                </div>
                <!-- Day 선택 필드 추가 -->
                <div class="form-group">
                    <label>Day</label>
                    <select id="word-day">
                        <!-- Day 1~50 -->
                        <option th:each="d : ${#numbers.sequence(1,50)}" th:value="${d}" th:text="${'Day ' + d}">Day 1</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>발음 기호</label>
                    <input type="text" id="word-pronunciation">
                </div>
                <!-- 음원 업로드 섹션 추가 -->
                <div class="form-group audio-upload-section">
                    <label>음원 파일</label>
                    <div class="audio-upload-container">
                        <input type="file" id="word-audio-file" accept="audio/*" style="display: none;">
                        <button type="button" class="audio-upload-btn" id="word-audio-upload-btn">
                            🎵 음원 선택
                        </button>
                        <div class="audio-info" id="word-audio-info" style="display: none;">
                            <div class="audio-preview">
                                <audio controls id="word-audio-preview" style="width: 100%; margin-top: 8px;"></audio>
                            </div>
                            <div class="audio-file-name" id="word-audio-file-name"></div>
                            <button type="button" class="audio-remove-btn" id="word-audio-remove-btn">❌ 제거</button>
                        </div>
                        <div class="current-audio" id="word-current-audio" style="display: none;">
                            <label>현재 음원:</label>
                            <audio controls style="width: 100%; margin-top: 4px;"></audio>
                            <button type="button" class="audio-replace-btn" id="word-audio-replace-btn">🔄 교체</button>
                        </div>
                    </div>
                    <small style="color: #666; font-size: 12px;">MP3, M4A, WAV, OGG 형식 지원 (최대 10MB)</small>
                </div>
            </div>
            <div class="modal-footer">
                <button data-modal="word-modal" class="modal-cancel">취소</button>
                <button id="save-word-btn">저장</button>
            </div>
        </div>
    </div>

    <!-- 문장 추가/수정 모달 (음원 업로드 기능 추가) -->
    <div id="sentence-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="sentence-modal-title">문장 추가</h3>
                <span class="close" data-modal="sentence-modal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="sentence-id">
                <div class="form-group">
                    <label>영어 문장</label>
                    <textarea id="sentence-english" rows="3" required=""></textarea>
                </div>
                <div class="form-group">
                    <label>한국어 번역</label>
                    <textarea id="sentence-korean" rows="3" required=""></textarea>
                </div>
                <div class="form-group">
                    <label>레벨</label>
                    <select id="sentence-level">
                        <option value="1">Level 1</option>
                        <option value="2">Level 2</option>
                        <option value="3">Level 3</option>
                        <option value="4">Level 4</option>
                        <option value="5">Level 5</option>
                    </select>
                </div>
                <!-- Day 선택 필드 추가 -->
                <div class="form-group">
                    <label>Day</label>
                    <select id="sentence-day">
                        <!-- Day 1~50 -->
                        <option th:each="d : ${#numbers.sequence(1,50)}" th:value="${d}" th:text="${'Day ' + d}">Day 1</option>
                    </select>
                </div>
                <!-- 음원 업로드 섹션 추가 -->
                <div class="form-group audio-upload-section">
                    <label>음원 파일</label>
                    <div class="audio-upload-container">
                        <input type="file" id="sentence-audio-file" accept="audio/*" style="display: none;">
                        <button type="button" class="audio-upload-btn" id="sentence-audio-upload-btn">
                            🎵 음원 선택
                        </button>
                        <div class="audio-info" id="sentence-audio-info" style="display: none;">
                            <div class="audio-preview">
                                <audio controls id="sentence-audio-preview" style="width: 100%; margin-top: 8px;"></audio>
                            </div>
                            <div class="audio-file-name" id="sentence-audio-file-name"></div>
                            <button type="button" class="audio-remove-btn" id="sentence-audio-remove-btn">❌ 제거</button>
                        </div>
                        <div class="current-audio" id="sentence-current-audio" style="display: none;">
                            <label>현재 음원:</label>
                            <audio controls style="width: 100%; margin-top: 4px;"></audio>
                            <button type="button" class="audio-replace-btn" id="sentence-audio-replace-btn">🔄 교체</button>
                        </div>
                    </div>
                    <small style="color: #666; font-size: 12px;">MP3, M4A, WAV, OGG 형식 지원 (최대 10MB)</small>
                </div>
            </div>
            <div class="modal-footer">
                <button data-modal="sentence-modal" class="modal-cancel">취소</button>
                <button id="save-sentence-btn">저장</button>
            </div>
        </div>
    </div>

    <!-- 분원 추가/수정 모달 -->
    <div id="group-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="group-modal-title">분원 추가</h3>
                <span class="close" data-modal="group-modal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="group-id">
                
                <div class="form-group">
                    <label>분원 코드 *</label>
                    <input type="text" id="group-code" placeholder="예: SANGAM, YONGIN" required>
                    <small style="color: #666; font-size: 12px;">영문 대문자로 된 고유한 코드를 입력하세요.</small>
                </div>

                <div class="form-group">
                    <label>분원명 *</label>
                    <input type="text" id="group-name" placeholder="예: 상암본원 키즈엔리딩" required>
                    <small style="color: #666; font-size: 12px;">사용자에게 표시될 분원명을 입력하세요.</small>
                </div>

                <div class="form-group">
                    <label>주소</label>
                    <input type="text" id="group-address" placeholder="분원 주소">
                </div>

                <div class="form-group">
                    <label>연락처</label>
                    <input type="text" id="group-phone" placeholder="전화번호">
                </div>

                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="group-active" checked>
                        활성 상태
                    </label>
                    <small style="color: #666; font-size: 12px;">비활성화된 분원은 회원가입 시 선택할 수 없습니다.</small>
                </div>
            </div>
            <div class="modal-footer">
                <button data-modal="group-modal" class="modal-cancel">취소</button>
                <button id="save-group-btn">저장</button>
            </div>
        </div>
    </div>

    <!-- 음원 일괄 업로드 모달 -->
    <div id="bulk-audio-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="bulk-audio-modal-title">음원 일괄 업로드</h3>
                <span class="close" data-modal="bulk-audio-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="bulk-audio-instructions">
                    <h4>업로드 방법</h4>
                    <ol>
                        <li>ZIP 파일 안에 음원 파일들을 넣어주세요</li>
                        <li>파일명은 다음 형식을 따라주세요:
                            <ul>
                                <li>단어: <code>word_영어단어.mp3</code> (예: word_apple.mp3)</li>
                                <li>문장: <code>sentence_ID번호.mp3</code> (예: sentence_1.mp3)</li>
                            </ul>
                        </li>
                        <li>지원 형식: MP3, M4A, WAV, OGG</li>
                        <li>최대 파일 크기: 100MB</li>
                    </ol>
                </div>
                
                <div class="form-group">
                    <label>업로드 타입</label>
                    <select id="bulk-audio-type">
                        <option value="words">단어 음원</option>
                        <option value="sentences">문장 음원</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>ZIP 파일 선택</label>
                    <input type="file" id="bulk-audio-zip-file" accept=".zip" required>
                </div>

                <div class="bulk-upload-progress" id="bulk-upload-progress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="bulk-progress-fill"></div>
                    </div>
                    <div class="progress-text" id="bulk-progress-text">업로드 중...</div>
                </div>

                <div class="bulk-upload-results" id="bulk-upload-results" style="display: none;">
                    <h4>업로드 결과</h4>
                    <div class="result-summary">
                        <div class="result-item success">
                            <span class="result-label">성공:</span>
                            <span class="result-count" id="bulk-success-count">0</span>
                        </div>
                        <div class="result-item error">
                            <span class="result-label">실패:</span>
                            <span class="result-count" id="bulk-error-count">0</span>
                        </div>
                    </div>
                    <div class="result-details" id="bulk-result-details"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button data-modal="bulk-audio-modal" class="modal-cancel">취소</button>
                <button id="start-bulk-upload-btn">업로드 시작</button>
            </div>
        </div>
    </div>
</div>

<style>
/* 음원 업로드 관련 스타일 */
.audio-upload-section {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 16px;
    background-color: #f9f9f9;
}

.audio-upload-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.audio-upload-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 12px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
    width: fit-content;
}

.audio-upload-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.audio-info {
    background: white;
    border: 1px solid #ddd;
    border-radius: 6px;
    padding: 12px;
}

.audio-file-name {
    font-size: 14px;
    color: #333;
    margin: 8px 0;
    font-weight: 500;
}

.audio-remove-btn, .audio-replace-btn {
    background: #ff4757;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    transition: background 0.2s ease;
}

.audio-replace-btn {
    background: #2ecc71;
}

.audio-remove-btn:hover {
    background: #ff3742;
}

.audio-replace-btn:hover {
    background: #27ae60;
}

.current-audio {
    background: #e8f5e8;
    border: 1px solid #c8e6c9;
    border-radius: 6px;
    padding: 12px;
}

/* 음원 관리 탭 스타일 */
.audio-filter-section {
    display: flex;
    gap: 16px;
    align-items: end;
    margin-bottom: 20px;
    padding: 16px;
    background: #f8f9fa;
    border-radius: 8px;
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.filter-group label {
    font-size: 14px;
    font-weight: 500;
    color: #333;
}

.filter-group select {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
    min-width: 120px;
}

.apply-filter-btn {
    background: #3498db;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    height: fit-content;
}

.apply-filter-btn:hover {
    background: #2980b9;
}

.audio-list {
    display: grid;
    gap: 16px;
}

.audio-item {
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: box-shadow 0.2s ease;
}

.audio-item:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.audio-item-info {
    flex: 1;
}

.audio-item-type {
    font-size: 12px;
    color: #666;
    text-transform: uppercase;
    font-weight: 500;
}

.audio-item-text {
    font-size: 16px;
    font-weight: 600;
    color: #333;
    margin: 4px 0;
}

.audio-item-translation {
    font-size: 14px;
    color: #666;
    margin-bottom: 8px;
}

.audio-item-meta {
    display: flex;
    gap: 12px;
    font-size: 12px;
    color: #888;
}

.audio-item-actions {
    display: flex;
    gap: 8px;
    align-items: center;
}

.audio-status {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}

.audio-status.has-audio {
    background: #d4edda;
    color: #155724;
}

.audio-status.no-audio {
    background: #f8d7da;
    color: #721c24;
}

/* 일괄 업로드 모달 스타일 */
.bulk-audio-instructions {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    padding: 16px;
    margin-bottom: 20px;
}

.bulk-audio-instructions h4 {
    margin: 0 0 12px 0;
    color: #333;
}

.bulk-audio-instructions ol {
    margin: 0;
    padding-left: 20px;
}

.bulk-audio-instructions li {
    margin-bottom: 8px;
    color: #555;
}

.bulk-audio-instructions code {
    background: #e9ecef;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: monospace;
    font-size: 13px;
}

.bulk-upload-progress {
    margin-top: 16px;
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: #e9ecef;
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: #28a745;
    width: 0%;
    transition: width 0.3s ease;
}

.progress-text {
    text-align: center;
    margin-top: 8px;
    font-size: 14px;
    color: #666;
}

.bulk-upload-results {
    margin-top: 16px;
}

.result-summary {
    display: flex;
    gap: 20px;
    margin-bottom: 16px;
}

.result-item {
    padding: 8px 12px;
    border-radius: 4px;
    font-size: 14px;
    font-weight: 500;
}

.result-item.success {
    background: #d4edda;
    color: #155724;
}

.result-item.error {
    background: #f8d7da;
    color: #721c24;
}

.result-details {
    max-height: 200px;
    overflow-y: auto;
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 4px;
    padding: 12px;
    font-size: 13px;
}

/* 단어/문장 목록에서 음원 상태 표시 개선 */
.word-item, .sentence-item {
    position: relative;
}

.word-actions, .sentence-actions {
    display: flex;
    gap: 8px;
    align-items: center;
}

.audio-btn {
    background: #9b59b6;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    transition: background 0.2s ease;
}

.audio-btn:hover {
    background: #8e44ad;
}

.word-audio, .sentence-audio {
    font-size: 16px;
    margin-left: 8px;
}

.word-audio-missing, .sentence-audio-missing {
    font-size: 16px;
    margin-left: 8px;
    opacity: 0.5;
}

/* 체크박스 및 삭제 버튼 스타일 */
.delete-btn {
    background: #dc3545;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.2s ease;
}

.delete-btn:hover {
    background: #c82333;
}

.delete-btn:disabled {
    background: #6c757d;
    cursor: not-allowed;
}

.word-item, .sentence-item {
    position: relative;
    display: flex;
    align-items: center;
    gap: 12px;
}

.word-checkbox, .sentence-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.word-content, .sentence-content {
    flex: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.word-info, .sentence-info {
    flex: 1;
}

.word-actions, .sentence-actions {
    display: flex;
    gap: 8px;
    align-items: center;
}

.select-all-container {
    display: flex;
    align-items: center;
    background: #f8f9fa;
    border-radius: 6px;
    border: 1px solid #e9ecef;
    padding: 8px 16px;
    margin-bottom: 8px;
    font-size: 15px;
}
.select-all-checkbox {
    width: 18px;
    height: 18px;
    margin-right: 8px;
}
.word-item, .sentence-item {
    display: flex;
    align-items: center;
    gap: 12px;
    background: #fff;
    border-radius: 8px;
    border: 1px solid #e9ecef;
    margin-bottom: 12px;
    padding: 16px 20px;
    transition: box-shadow 0.2s;
}
.word-item:hover, .sentence-item:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    border-color: #d1d5db;
}
.word-checkbox, .sentence-checkbox {
    width: 18px;
    height: 18px;
    margin-right: 10px;
    accent-color: #4f8cff;
}
.word-content, .sentence-content {
    flex: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .audio-filter-section {
        flex-direction: column;
        align-items: stretch;
    }
    
    .filter-group {
        width: 100%;
    }
    
    .filter-group select {
        min-width: 100%;
    }
    
    .audio-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .audio-item-actions {
        width: 100%;
        justify-content: flex-end;
    }
    
    .word-item, .sentence-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
    
    .word-content, .sentence-content {
        width: 100%;
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
}




</style>


<style>
.word-list {
  margin-top: 12px;
}
.word-item {
  display: flex;
  align-items: center;
  gap: 18px;
  background: #fff;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 12px;
  padding: 14px 20px;
  transition: box-shadow 0.2s;
  min-height: 60px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.03);
}
.word-item:hover {
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  border-color: #b6c2d2;
}
.word-checkbox {
  margin-right: 8px;
  accent-color: #4f8cff;
}
.word-content {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
}
.word-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.word-english {
  font-size: 18px;
  font-weight: 600;
  color: #222;
}
.word-korean {
  font-size: 15px;
  color: #666;
  font-weight: 400;
  margin-top: 2px;
}
.word-details {
  display: flex;
  gap: 10px;
  align-items: center;
  font-size: 13px;
  color: #888;
  margin-top: 2px;
}
.word-level, .word-day {
  background: #f1f3f7;
  border-radius: 4px;
  padding: 2px 8px;
  font-size: 12px;
  color: #4f8cff;
  font-weight: 500;
}
.word-audio {
  font-size: 18px;
  margin-left: 4px;
}
.word-audio-player audio {
  height: 28px;
  margin-top: 4px;
}
.word-actions {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-left: 12px;
}
.word-actions button {
  background: #f5f6fa;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  padding: 4px 12px;
  font-size: 13px;
  color: #333;
  cursor: pointer;
  transition: background 0.15s, color 0.15s, border 0.15s;
}
.word-actions button:hover {
  background: #e6f0ff;
  color: #1a5cff;
  border-color: #4f8cff;
}
@media (max-width: 700px) {
  .word-item { flex-direction: column; align-items: flex-start; }
  .word-content { flex-direction: column; align-items: flex-start; gap: 8px; }
  .word-actions { flex-direction: row; gap: 8px; margin-left: 0; margin-top: 8px; }
}

/* 회원가입 설정 탭 스타일 */
.registration-settings-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-top: 20px;
}

.group-list {
    margin-top: 16px;
}

.group-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #fff;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
    transition: box-shadow 0.2s;
}

.group-item:hover {
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}

.group-info {
    flex: 1;
}

.group-code {
    font-weight: 600;
    color: #333;
    font-size: 16px;
    margin-bottom: 4px;
}

.group-name {
    color: #666;
    font-size: 14px;
    margin-bottom: 4px;
}

.group-details {
    color: #888;
    font-size: 12px;
}

.group-status {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    margin-left: 8px;
}

.group-status.active {
    background: #d4edda;
    color: #155724;
}

.group-status.inactive {
    background: #f8d7da;
    color: #721c24;
}

.group-actions {
    display: flex;
    gap: 8px;
}

.agreement-settings {
    margin-top: 16px;
}

.agreement-setting-item {
    margin-bottom: 24px;
    padding: 16px;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    background: #f8f9fa;
}

.agreement-label {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    cursor: pointer;
}

.agreement-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: #4f8cff;
}

.agreement-text {
    font-weight: 500;
    color: #333;
    font-size: 14px;
}

.agreement-content {
    margin-top: 12px;
}

.agreement-content textarea {
    width: 100%;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    padding: 12px;
    font-size: 14px;
    line-height: 1.5;
    resize: vertical;
    min-height: 120px;
}

.agreement-content textarea:focus {
    outline: none;
    border-color: #4f8cff;
    box-shadow: 0 0 0 3px rgba(79, 140, 255, 0.1);
}

@media (max-width: 768px) {
    .registration-settings-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .group-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .group-actions {
        width: 100%;
        justify-content: flex-end;
    }
}
</style>

<style>
.dragElem {
    opacity: 0.6;
    background: #e3e3ff !important;
    border: 2px dashed #7b61ff !important;
}
.over {
    border: 2px solid #7b61ff !important;
    background: #f3f0ff !important;
}
.dragndrop-hint {
    user-select: none;
    pointer-events: none;
}
.drag-insert-line {
    height: 0;
    border-top: 4px solid #1976d2;
    margin: -2px 0 0 0;
    border-radius: 2px;
    pointer-events: none;
    z-index: 10;
}
.drag-insert-line.insert-after {
    border-top: none;
    border-bottom: 4px solid #1976d2;
    margin: 0 0 -2px 0;
}
</style>

<!-- 음원 일괄 업로드 진행 상황 모달 -->
<div id="bulk-audio-progress-modal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 600px;">
        <div class="modal-header">
            <h3 id="bulk-audio-progress-title">음원 일괄 업로드 진행 상황</h3>
            <span class="close" onclick="closeModal('bulk-audio-progress-modal')">&times;</span>
        </div>
        <div class="modal-body">
            <!-- 전체 진행률 -->
            <div class="progress-section">
                <div class="progress-info">
                    <span id="progress-status">업로드 준비 중...</span>
                    <span id="progress-percentage">0%</span>
                </div>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>
            <!-- 상세 진행 상황 -->
            <div class="progress-details">
                <div class="progress-stats">
                    <div class="stat-item">
                        <span class="stat-label">총 파일 수:</span>
                        <span id="total-files" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">업로드 완료:</span>
                        <span id="uploaded-files" class="stat-value success">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">업로드 실패:</span>
                        <span id="failed-files" class="stat-value error">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">남은 파일:</span>
                        <span id="remaining-files" class="stat-value">0</span>
                    </div>
                </div>
                <!-- 현재 처리 중인 파일 -->
                <div class="current-file-section">
                    <h4>현재 처리 중:</h4>
                    <div id="current-file-info" class="current-file-info">
                        <span id="current-file-name">-</span>
                        <span id="current-file-status">대기 중</span>
                    </div>
                </div>
                <!-- 실시간 로그 -->
                <div class="upload-log-section">
                    <h4>업로드 로그:</h4>
                    <div id="upload-log" class="upload-log">
                        <div class="log-entry info">업로드를 시작합니다...</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button id="cancel-upload-btn" class="btn btn-secondary">업로드 취소</button>
            <button id="close-progress-modal-btn" class="btn btn-primary" style="display: none;">닫기</button>
        </div>
    </div>
</div>

<!-- 음원 일괄 업로드 결과 모달 -->
<div id="bulk-audio-result-modal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 700px;">
        <div class="modal-header">
            <h3>음원 일괄 업로드 완료</h3>
            <span class="close" onclick="closeModal('bulk-audio-result-modal')">&times;</span>
        </div>
        <div class="modal-body">
            <!-- 결과 요약 -->
            <div class="result-summary">
                <div class="result-stat success">
                    <div class="result-icon">✅</div>
                    <div class="result-info">
                        <div class="result-number" id="result-success-count">0</div>
                        <div class="result-label">성공</div>
                    </div>
                </div>
                <div class="result-stat error">
                    <div class="result-icon">❌</div>
                    <div class="result-info">
                        <div class="result-number" id="result-error-count">0</div>
                        <div class="result-label">실패</div>
                    </div>
                </div>
            </div>
            <!-- 성공한 파일 목록 -->
            <div id="success-files-section" class="files-section" style="display: none;">
                <h4>✅ 성공한 파일들</h4>
                <div id="success-files-list" class="files-list"></div>
            </div>
            <!-- 실패한 파일 목록 -->
            <div id="error-files-section" class="files-section" style="display: none;">
                <h4>❌ 실패한 파일들</h4>
                <div id="error-files-list" class="files-list"></div>
            </div>
        </div>
        <div class="modal-footer">
            <button onclick="closeModal('bulk-audio-result-modal')" class="btn btn-primary">확인</button>
        </div>
    </div>
</div>