<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="dashboard-content" class="dashboard-container">
    <!-- 헤더 -->
    <div class="dashboard-header">
        <h1>학습 대시보드</h1>
        <p>당신의 학습 여정을 한눈에 확인하세요</p>
    </div>

    <!-- 통계 카드 섹션
    <div class="stats-section">
        <div class="stat-card">
            <div class="stat-icon books">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 19.5C4 18.1193 5.11929 17 6.5 17H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="stat-info">
                <div class="stat-number" id="dashboard-words-learned">0</div>
                <div class="stat-label">오늘 학습 단어</div>
                <div class="stat-change positive" id="dashboard-words-change">+0%</div>
            </div>
        </div>

        
        <div class="stat-card">
            <div class="stat-icon target">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="12" r="6" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="12" r="2" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <div class="stat-info">
                <div class="stat-number" id="dashboard-sentences-learned">0</div>
                <div class="stat-label">오늘 학습 문장</div>
                <div class="stat-change positive" id="dashboard-sentences-change">+0%</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon lightning">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="stat-info">
                <div class="stat-number" id="dashboard-total-coins">0</div>
                <div class="stat-label">오늘 획득 코인</div>
                <div class="stat-change positive" id="dashboard-coins-change">+0%</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon calendar">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
                    <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
                    <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <div class="stat-info">
                <div class="stat-number" id="dashboard-streak-days">1</div>
                <div class="stat-label">연속 학습일</div>
                <div class="stat-duration" id="dashboard-streak-duration">1 일</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon coins">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 6v12" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 9h6" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 15h6" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <div class="stat-info">
                <div class="stat-number" id="dashboard-total-coins-all">0</div>
                <div class="stat-label">총 코인</div>
                <div class="stat-duration" id="dashboard-total-coins-duration">전체 보유</div>
            </div>
        </div>
    </div>-->

    <!-- 월간 학습 달력 -->
    <div class="calendar-section">
        <div class="calendar-header">
            <div class="calendar-title">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                    <line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2"/>
                    <line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2"/>
                    <line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2"/>
                </svg>
                월간 학습 달력
            </div>
            <div class="calendar-subtitle">매일의 학습 여정을 확인하세요</div>
            <div class="streak-badge">🔥 30일의 야심: 목표 달성!</div>
        </div>

        <div class="calendar-grid">
            <div class="calendar-weekdays">
                <div class="weekday">일</div>
                <div class="weekday">월</div>
                <div class="weekday">화</div>
                <div class="weekday">수</div>
                <div class="weekday">목</div>
                <div class="weekday">금</div>
                <div class="weekday">토</div>
            </div>

            <div class="calendar-days">
                <!-- JavaScript로 동적 생성됨 -->
            </div>
        </div>

        <!--
        <div class="calendar-legend">
            <div class="legend-title">달력 범례</div>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color legend-not-started"></div>
                    <span>미학습</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-completed"></div>
                    <span>학습 완료</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-partial"></div>
                    <span>목표 달성</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-bonus"></div>
                    <span>보너스 달성</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-current"></div>
                    <span>오늘</span>
                </div>
            </div>
        </div>
        -->
    </div>

    <!-- 학습량 그래프 섹션 -->
    <div class="learning-graph-section">
        <div class="section-header">
            <div class="section-title">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 3v18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                총 학습량 통계
            </div>
            <div class="graph-subtitle">지난 7일간의 학습량을 확인하세요</div>
        </div>
        
        <div class="graph-container">
            <canvas id="learningChart" width="400" height="200"></canvas>
        </div>
        
        <div class="graph-legend">
            <div class="legend-item">
                <div class="legend-color legend-words"></div>
                <span>단어</span>
            </div>
            <div class="legend-item">
                <div class="legend-color legend-sentences"></div>
                <span>문장</span>
            </div>
        </div>
    </div>

    <!-- 하단 섹션 -->
    <div class="badge-collection-section">
        <div class="section-header">
            <div class="section-title">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                뱃지 컬렉션
            </div>
            <div class="badge-subtitle">획득한 뱃지를 확인하세요</div>
            <div class="badge-stats">
                <span id="badge-total-count">0</span>개 획득
            </div>
        </div>
        <div class="badge-grid" id="badge-collection-grid">
            <!-- JavaScript로 동적 생성됨 -->
        </div>
        <div class="badge-empty-state" id="badge-empty-state" style="display: none;">
            <div class="empty-icon">🏆</div>
            <div class="empty-title">아직 획득한 뱃지가 없어요</div>
            <div class="empty-description">학습을 계속하면 멋진 뱃지를 획득할 수 있습니다!</div>
            <button id="badge-refresh-btn" class="badge-refresh-btn" style="margin-top:16px;">🔄 새로고침</button>
        </div>
    </div>

    <div class="level-progress-section">
        <div class="section-header">
            <div class="section-title">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                레벨 진행도
            </div>
        </div>
        <div class="level-card">
            <div class="level-info">
                <div class="level-number" id="dashboard-current-level">Level 1</div>
                <div class="level-progress">
                    <div class="progress-circle">
                        <div class="progress-value" id="dashboard-level-progress">0%</div>
                    </div>
                </div>
                <div class="level-description" id="dashboard-level-description">다음 레벨까지 100단어</div>
            </div>
        </div>
    </div>

    <!-- 노력왕 전체 랭킹 -->
    <div class="ranking-section">
        <div class="section-header">
            <div class="section-title">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 22h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10 14.66V17c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.34" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M7 17h10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 9h-2.5a2.5 2.5 0 0 1 0-5h5a2.5 2.5 0 0 1 0 5H12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                노력왕 전체 랭킹
            </div>
            <div class="ranking-subtitle">일주일간 학습량 기준</div>
        </div>

        <div class="ranking-list" id="top-rankings-list">
            <!-- JavaScript로 동적 생성됨 -->
        </div>
    </div>

    <!-- 복습왕 랭킹 -->
    <div class="ranking-section">
        <div class="section-header">
            <div class="section-title">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.02L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                복습왕 랭킹
            </div>
            <div class="ranking-subtitle">총 복습 횟수 기준</div>
        </div>

        <div class="ranking-list" id="review-rankings-list">
            <!-- JavaScript로 동적 생성됨 -->
        </div>
    </div>
</div>

<style>

</style>

<!-- Dashboard JavaScript -->
<script src="/js/dashboard.js"></script>
<script src="/js/badge-collection.js"></script>

</body>
</html>